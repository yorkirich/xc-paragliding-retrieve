<!DOCTYPE html>
<html>
<head>
    <title>XCTrack Retrieve Planner</title>
    <style>
        body { font-family: sans-serif; padding: 10px; background-color: #f4f4f9; color: #333; }
        .result-box { border: 1px solid #007bff; background-color: #e6f2ff; margin-bottom: 10px; padding: 15px; border-radius: 5px; }
        .label { font-weight: bold; color: #007bff; display: inline-block; width: 180px; }
        h1 { color: #333; }
        h2 { color: #007bff; border-bottom: 1px solid #ccc; padding-bottom: 5px; }
        #status { font-weight: bold; color: #dc3545; margin-bottom: 10px; }
    </style>
</head>
<body>
    <h1>Paraglider Retrieve Options</h1>
    <div id="status">Loading Google Maps API...</div>
    <div id="results">
        </div>

    <script src="retrieve.js"></script>

    <script>
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            const regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            const results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' ')).trim();
        }

        const apiKey = getUrlParameter('key');
        const script = document.createElement('script');
        script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&callback=initRetrieve&libraries=places`;
        script.defer = true;
        document.head.appendChild(script);

    </script>
</body>
</html>
